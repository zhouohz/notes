# 正则表达式

目标：

1. 知道正则表达式的作用
2. 编写简单的正则表达式
3. 能够对表单进行验证
4. 使用正则表达式替换内容

## 什么是正则表达式

**正则表达式**（Regular Expression）是用于匹配字符组合的**模式**。

常用于检索、替换那些符合某个模式（规则）的文本，**过滤**一些敏感内容或**提取**想要的内容

实际开发中，都是使用已经写好的正则表达式，但是要学会根据情况修改

## 创建正则表达式

在JS中正则表达式是一个对象

1. JS内置了RegExp构造函数可以创建正则表达式 `var regexp = new RegExp(/123/)`
2. 也可以使用字面量创建 `var regexp = /123/`

正则表达式实例有一个`test()`方法可以检验某个字符串是否符合该规则

语法：`regexp.test(str)`。返回布尔值，符合-true 不符合-false。如果传入其他类型应该会被转化为字符串。

## 组成

正则表达式可以由简单字符（字母 数字）和特殊字符字符（^ $ + 等）组成

边界符：^ --> 以某个字符开头 $ --> 以某个字符结尾。如果同时给正则表达式加上，表示**精确匹配**，字符串必须与正则表达式全等才能匹配上，只是包含不能通过验证

或者符号：`|`

字符类：

- `[]` --> 提供了一系列字符，只需要匹配其中一个即可
- `-` -- > 范围符 `[a-zA-Z]`所有字母，存在一个即可
- 字符组合 `[a-zA-Z0-9]` 想要添加其他字符直接在后面写即可
- `[^a-zA-Z0-9]`中括号内容的前面添加`^`字符表示取反，不能包含里面的内容

量词符：用来设定某个模式出现的次数。添加在模式的后面

- *：0次以上
- +：1次以上
- ?：0次或1次
- {n}：重复n次
- {n,}：n次以上
- {n,m}：重复n到m次

示例：`/^[a-zA-Z0-9-_]{3,10}$/` = 模式 + 量词

补充：()表示优先级 `/^abc{3}$/`匹配'abccc'，`/^(abc){3}$/`匹配'abcabcabc'

## 预定义类

指的是某些常见模式的简写方式

- \d = `[0-9]`
- \D = `[^0-9]`
- \w = `[a-zA-Z0-9_]`
- \W = `[^a-zA-Z0-9_]`
- \s = 匹配空格（换行，空格，制表符等）`[\t\r\n\v\f]`
- \S = `[^\t\r\n\v\f]`

## 替换

利用字符串实例的 `str.replace(regexp/str, newstr)` 方法。返回一个新的字符串

正则表达式参数 `//[switch]`

- g 全局模式
- i 忽略大小写
- ig 全局且忽略大小写

如果不设置为全局模式（g）就只能匹配到第一个位置的内容，后面出现的不会被替换