
## 标签请求

HTML中，带有 src 以及 href 的标签（a 标签除外）都会自动向服务器请求资源

它们的相当于请求 网络地址 + 属性中的资源相对路径 的 url 地址，如 `<img src="images/pic.jpg"` 的请求地址是 http://localhost:3000/images/pic.jpg 页面中的每一个资源都是一个请求。我们不可能有一个资源就写一个if判断。

这里就可以用到前面提到的统一处理请求的方式，就像开放 www 一样，统一将静态资源放到一个public目录中，然后判断 req.url 如果是以 `/public/` 开头的，就按照url的路径去读取文件。这样不在public目录中的文件就读取不到了，而且也不需要为每种资源都做一次判断。（备注：读写文件时，如果是用的相对路径，则一定要在 url 的前面拼接上 `.`）

此时，标签的里面的就不叫相对路径了，而是一个 url 地址，这个地址同时也是服务端静态资源的相对路径（相对于服务端js代码文件）。浏览器实际请求资源的时候会自动把前面的 http://localhost:3000 拼接上去

## 开放静态资源

所谓的开放静态资源，其实就是统一处理指定文件夹下的所有的文件的读取，本质上也是根据url去读文件。

这个资源文件夹是给前端开发人员使用的，写html页面的时候，给静态资源添加，而不是以前的相对路径。不是给用户输入的。

还有一点补充就是，一定要处理其他url的请求，返回一个404页面或者提示信息，不然请求错误时浏览器会一直转圈尬住。

改变以前的观念，标签中的都是url而非相对路径