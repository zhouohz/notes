## require模块标识

加载自定义模块时一定要以 ./ 或 ../ 开头表示相对路径，否则会被当做核心模块或第三方模块加载，会报错

在这里 / 开头的路径指的是当前js文件所属的磁盘根路径，不要乱用。

而且加载的模块放在项目中，使用相对路径最好，便于项目移植

而文件的后缀名可以省略，默认是 js 文件

核心模块的本质也是文件，它已经被编译到了二进制中，只需要通过名字加载

## 第三方模块加载机制

第三方模块都必须通过 npm 下载，使用的时候是 require('包名') 它也是非路径形式的模块标识，为了避免冲突，第三方包都不能和核心模块同名

第三方模块的加载流程如下：

- 找到当前 js 文件目录下的 node_modules 目录
- 在目录中找到同包名的目录
- 然后读取里面的 package.json 配置文件，找到里面的 main 属性，这个属性的值就是 模块的入口模块
- 在这个入口模块中再去加载其他相关的模块

也就是说，写得是模块名，实际上会按照规则和配置文件逐步去查找应该加载的 js 文件。

当 package.json 不存在 或者 里面的 main 属性指向有错误时，会加载失败报错。但是，如果同目录下有一个 index.js 文件，就会默认加载这个文件，这是一个默认的备选项

如果以上条件都不能加载成功，则继续向上层目录按同样的规则查找。直到当前文件所在磁盘的根目录，还没有成功的话，那就会报错了。跟作用域链以及原型链一个意思

注意：在实际项目中，有且只有一个node_modules放在项目的根目录中，这样所有的子目录都能访问到。